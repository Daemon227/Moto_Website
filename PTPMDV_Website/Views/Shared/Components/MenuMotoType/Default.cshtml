@model IEnumerable<PTPMDV_Website.ViewModels.MenuMotoTypeVM>
<!--Type start-->
<h5 class="section-title position-relative text-uppercase mb-3"><span class="bg-secondary pr-3">Filter by Type</span></h5>
<div class="bg-light p-4 mb-30">
    <form>

        @{
            int i = 0;
            int id = 1;
        }
        @foreach(var item in Model)
        { 
            <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
                <input type="checkbox" class="custom-control-input" id="size-@id" onclick="filterByType('@item.typeId')">
                <label class="custom-control-label" for="size-@id">@item.typeName</label>
                <span class="badge border font-weight-normal">@item.amount</span>
            </div>
            id++;
            i += item.amount;
        }
        <div class="custom-control custom-checkbox d-flex align-items-center justify-content-between mb-3">
            <input type="checkbox" class="custom-control-input" checked="" id="color-all" onclick="filterByAllType()" >
            <label class="custom-control-label" for="color-all">All Color</label>
            <span class="badge border font-weight-normal">@i</span>
        </div>
    </form>
</div>
<!--Type end-->
<!-- JavaScript code -->
<script>
    function filterByType(typeId) {
        const urlParams = new URLSearchParams(window.location.search);
        const brandId = urlParams.get("brandId");

        // Chuyển hướng tới controller Moto với tham số typeId
        let url = '/Moto/Index?typeId=' + typeId;
        if(brandId){
            url += "&brandId=" + brandId;
        }
        window.location.href = url;
    }
</script>

<script>
    function filterByAllType() {
        const urlParams = new URLSearchParams(window.location.search);
        const brandId = urlParams.get('brandId');

        let newUrl = '/Moto';
        if (brandId) {
            newUrl += '?brandId=' + brandId;
        }

        window.location.href = newUrl;
    }
</script>
<!--Type end-->

